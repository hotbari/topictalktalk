<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¡°ë³„ ì£¼ì œ ë°°ì •</title>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.8/dist/web/static/pretendard.css" />
    <link rel="stylesheet" href="topic_styles.css">
</head>
<body>
    <div class="container">
        <div class="topics-list" id="topicsList">
            <h2>í† ë¡  ì£¼ì œ ëª©ë¡</h2>
            <ol>
                <li>ì–´ë–¤ í•™ìŠµì´ ë” íš¨ê³¼ì ì¼ê¹Œìš”? ê°œë…ë¶€í„° ë°°ìš°ê¸° vs ë°”ë¡œ í”„ë¡œì íŠ¸ ë§Œë“¤ì–´ë³´ê¸°</li>
                <li>ChatGPT, Cursor ì‹œëŒ€ì— ê°œë°œìëŠ” í•„ìš”í• ê¹Œ?</li>
                <li>ë©´ì ‘ì—ì„œ 'ì™œ ê°œë°œìê°€ ë˜ë ¤ê³  í•˜ì„¸ìš”?'ë¼ëŠ” ì§ˆë¬¸ì˜ ìµœì  ë‹µë³€ì€?</li>
                <li>ë‚˜ë§Œì˜ ì„œë¹„ìŠ¤ë¥¼ ë§Œë“œëŠ” ê¿ˆì„ ì‹¤í˜„í•˜ëŠ”ë° í•„ìš”í•œ ì¤€ë¹„ëŠ” ì–´ë–¤ê²Œ ìˆì„ê¹Œìš”?</li>
                <li>ì´ˆê²©ì°¨ìº í”„ ê³¼ì •ì—ì„œ ê¼­ ê°€ì ¸ê°€ì•¼í•  ê²ƒ 3ê°€ì§€</li>
                <li>ê°œë°œìë¥¼ ì¤€ë¹„í•˜ëŠ”ë° ìˆì–´ì„œ 'ì‹¤íŒ¨ ê²½í—˜'ì´ ì¤‘ìš”í•œ ì´ìœ ëŠ”?</li>
                <li>í”„ë¡œì íŠ¸ë¥¼ ë§Œë“¤ ë•Œ ê°€ì¥ ì¤‘ìš”í•œ ê²ƒì€?</li>
                <li>ì½”ë”© ê³µë¶€ëŠ” ë…í•™ vs ë¶€íŠ¸ìº í”„ ì–´ëŠ ìª½ì´ ë” íš¨ìœ¨ì ì¼ê¹Œ? íš¨ìœ¨ì ì¸ ê³µë¶€ë²•?</li>
            </ol>
        </div>
        <div class="controls">
            <button id="showTopicBtn">ì£¼ì œ ë°°ì • ì‹œì‘í•˜ê¸°</button>
            <button id="showResultBtn" style="display: none;">ê²°ê³¼ ë³´ê¸°</button>
        </div>
        <div class="paper-wrapper" id="paperWrapper">
            <div class="paper" id="paper">
                <p id="topic">ì—¬ê¸°ì— ì£¼ì œê°€ í‘œì‹œë©ë‹ˆë‹¤.</p>
            </div>
        </div>
        <div class="result-wrapper">
            <table id="resultTable" class="result-table">
                <thead>
                    <tr>
                        <th>ì¡°</th>
                        <th>ë°°ì •ëœ ì£¼ì œ</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </div>
        <div class="completion-message" id="completionMessage">
            <h2>ğŸ‰ ì£¼ì œ ë°°ì •ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!</h2>
            <p>ëª¨ë“  ì¡°ì— ì£¼ì œê°€ ì„±ê³µì ìœ¼ë¡œ ë°°ì •ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
        </div>
        <div class="final-results" id="finalResults">
            <h2>âœ… ì¡°ë³„ ì£¼ì œ ë°°ì • ê²°ê³¼ âœ…</h2>
            <table>
                <thead>
                    <tr>
                        <th>ì¡°</th>
                        <th>ë°°ì •ëœ ì£¼ì œ</th>
                    </tr>
                </thead>
                <tbody id="finalResultsBody">
                </tbody>
            </table>
            <button class="print-button" onclick="window.print()">ì¡° ë³„ë¡œ í† ë¡  ì‹œì‘í•´ì£¼ì„¸ìš”! 20ë¶„ </button>
        </div>
    </div>

    <script>
        const topics = [
            "ì–´ë–¤ í•™ìŠµì´ ë” íš¨ê³¼ì ì¼ê¹Œìš”? ê°œë…ë¶€í„° ë°°ìš°ê¸° vs ë°”ë¡œ í”„ë¡œì íŠ¸ ë§Œë“¤ì–´ë³´ê¸°",
            "ChatGPT, Cursor ì‹œëŒ€ì— ê°œë°œìëŠ” í•„ìš”í• ê¹Œ?",
            "ë©´ì ‘ì—ì„œ 'ì™œ ê°œë°œìê°€ ë˜ë ¤ê³  í•˜ì„¸ìš”?'ë¼ëŠ” ì§ˆë¬¸ì˜ ìµœì  ë‹µë³€ì€?",
            "ë‚˜ë§Œì˜ ì„œë¹„ìŠ¤ë¥¼ ë§Œë“œëŠ” ê¿ˆì„ ì‹¤í˜„í•˜ëŠ”ë° í•„ìš”í•œ ì¤€ë¹„ëŠ” ì–´ë–¤ê²Œ ìˆì„ê¹Œìš”?",
            "ì´ˆê²©ì°¨ìº í”„ ê³¼ì •ì—ì„œ ê¼­ ê°€ì ¸ê°€ì•¼í•  ê²ƒ 3ê°€ì§€",
            "ê°œë°œìë¥¼ ì¤€ë¹„í•˜ëŠ”ë° ìˆì–´ì„œ 'ì‹¤íŒ¨ ê²½í—˜'ì´ ì¤‘ìš”í•œ ì´ìœ ëŠ”?",
            "í”„ë¡œì íŠ¸ë¥¼ ë§Œë“¤ ë•Œ ê°€ì¥ ì¤‘ìš”í•œ ê²ƒì€?",
            "ì½”ë”© ê³µë¶€ëŠ” ë…í•™ vs ë¶€íŠ¸ìº í”„ ì–´ëŠ ìª½ì´ ë” íš¨ìœ¨ì ì¼ê¹Œ? íš¨ìœ¨ì ì¸ ê³µë¶€ë²•?"
        ];

        let availableIndices = [...Array(topics.length).keys()];
        const assignments = new Map();
        let currentTeam = 1;
        const totalTeams = 6;
        let isAssignmentStarted = false;

        const showTopicBtn = document.getElementById('showTopicBtn');
        const showResultBtn = document.getElementById('showResultBtn');
        const paper = document.getElementById('paper');
        const topicElement = document.getElementById('topic');
        const resultTable = document.getElementById('resultTable');
        const topicsList = document.getElementById('topicsList');
        const paperWrapper = document.getElementById('paperWrapper');

        const completionMessage = document.getElementById('completionMessage');
        const finalResults = document.getElementById('finalResults');
        const finalResultsBody = document.getElementById('finalResultsBody');

        function updateFinalResults() {
            finalResultsBody.innerHTML = '';
            for (let i = 1; i <= totalTeams; i++) {
                const topic = assignments.get(i) || '-';
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${i}ì¡°</td>
                    <td>${topic}</td>
                `;
                finalResultsBody.appendChild(row);
            }
        }

        function adjustPaperSize() {
            paper.style.width = 'auto';
            paper.style.height = 'auto';
            topicElement.style.width = 'auto';
            
            const textWidth = topicElement.offsetWidth;
            const textHeight = topicElement.offsetHeight;
            
            const finalWidth = textWidth + 40;
            const finalHeight = textHeight + 40;
            
            const minWidth = 180;
            const minHeight = 80;
            
            paper.style.width = Math.max(finalWidth, minWidth) + 'px';
            paper.style.height = Math.max(finalHeight, minHeight) + 'px';
            topicElement.style.width = '100%';
        }

        function updateResultTable() {
            const tbody = resultTable.querySelector('tbody');
            tbody.innerHTML = '';
            
            for (let i = 1; i <= totalTeams; i++) {
                const topic = assignments.get(i) || '-';
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${i}ì¡°</td>
                    <td>${topic}</td>
                `;
                tbody.appendChild(row);
            }
        }

        showTopicBtn.addEventListener('click', function () {
            if (!isAssignmentStarted) {
                isAssignmentStarted = true;
                topicsList.classList.add('hide');
                paperWrapper.style.display = 'inline-flex';
                showTopicBtn.textContent = 'ì£¼ì œ ë½‘ê¸°';
                return;
            }

            paper.classList.remove('show');
            
            if (currentTeam > totalTeams) {
                completionMessage.style.display = 'block';
                showResultBtn.click(); // ìë™ìœ¼ë¡œ ê²°ê³¼ ë³´ê¸° ì‹¤í–‰
                return;
            }

            setTimeout(() => {
                const randomIndex = Math.floor(Math.random() * availableIndices.length);
                const selectedIndex = availableIndices[randomIndex];
                availableIndices.splice(randomIndex, 1);

                const selectedTopic = topics[selectedIndex];
                assignments.set(currentTeam, selectedTopic);
                topicElement.textContent = `${currentTeam}ì¡° ì£¼ì œ: ${selectedTopic}`;
                
                adjustPaperSize();
                paper.classList.add('show');
                
                currentTeam++;
                
                if (currentTeam > totalTeams) {
                    showTopicBtn.style.display = 'none';
                    showResultBtn.style.display = 'inline-block';
                }
                
                updateResultTable();
            }, 300);
        });

        showResultBtn.addEventListener('click', function() {
            resultTable.classList.add('show');
            paperWrapper.style.display = 'none';
            this.style.display = 'none';

            updateFinalResults();
            finalResults.style.display = 'block';
        });

        // ì´ˆê¸° ì„¤ì •
        adjustPaperSize();
        completionMessage.style.display = 'none';
        finalResults.style.display = 'none';
        paperWrapper.style.display = 'none';
        resultTable.style.display = 'none';
        
        // ê²°ê³¼ í…Œì´ë¸” ì´ˆê¸°í™”
        updateResultTable();
    </script>
</body>
</html>